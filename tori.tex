\documentclass{amsart}

\usepackage{amscd}
\usepackage{amssymb, amsfonts}
\usepackage[notcite, notref]{showkeys}
\usepackage{amsrefs}
\input xy
\xyoption{all}
%\input{Gdefinitions3.tex}
\usepackage{color}
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usepackage{mathrsfs}

\definecolor{bettergreen}{rgb}{0,.7,0}
\newcommand\blue[1]{{\color{blue}{#1}}}
\newcommand\green[1]{{\color{bettergreen}{#1}}}
\newcommand\red[1]{{\color{red}{#1}}}

%\long\def\comment#1{\marginpar{{\footnotesize\color{red} #1\par}}}
%\long\def\commentimmi#1{\marginpar{{\footnotesize\color{bettergreen} #1\par}}}
%\long\def\change#1{{\color{blue} #1}}
%newcommand\green[1]{{\color{green} #1}}
%\newcommand   [1]{{\color{red}\small #1}}

%\let\immi=\green

%\let\raf=\blue


%%%% Definitions of things you already have %%%%%%%%%%
\newcommand{\Q}{{\mathbb Q}}
\newcommand{\C}{{\mathbb C}}
\newcommand{\R}{{\mathbb R}}
\newcommand{\F}{{\mathbb F}}
\newcommand{\Z}{{\mathbb Z}}
\newcommand{\N}{{\mathbb N}}
%\newcommand{\bA}{{\mathbb A}}
\newcommand{\LL}{{\mathbb L}}

\def\CC{{\mathbb C}}
\def\ZZ{{\mathbb Z}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cO}{\mathcal{O}}


\newcommand{\bF}{\mathbf{F}}
\newcommand{\ri}{\mathcal{O}}
\newcommand{\gl}{\mathfrak{gl}}
\newcommand{\GL}{\mathbf {GL}}
\newcommand{\fg}{\mathfrak{g}}
\newcommand{\ft}{\mathfrak{t}}
\newcommand{\fz}{\mathfrak{z}}
\newcommand{\fsp}{\mathfrak{sp}}
\newcommand{\fsl}{\mathfrak{sl}}
\newcommand{\Ad}{\operatorname{Ad}}
\newcommand{\jac}{\operatorname{Jac}}
\newcommand{\gal}{\operatorname{Gal}}
\newcommand{\res}{\operatorname{Res}}
\newcommand{\vol}{\operatorname{vol}}
\newcommand{\aut}{\mathbf{Aut}}
\newcommand{\reg}{\mathrm{reg}}
%\newcommand{\spl}{\mathrm{sp}}
\newcommand{\ur}{\mathrm{ur}}


\newcommand{\ep}{\operatorname{EP}}
\newcommand{\cM}{\mathcal {M}}
\newcommand{\cL}{\mathcal {L}}

\newcommand{\ram}{\mathrm{Ram}}
%\newcommand{\sem}{\mathrm{ss}}
\newcommand{\A}{\mathbb{A}}

%\newcommand{\bG}{\mathbf {G}}
\newcommand{\bG}{\mathbf{G}}
\newcommand{\bT}{\mathbf {T}}
\newcommand{\bS}{\mathbf{S}}
\newcommand{\bR}{\mathbf{R}}
\newcommand{\bM}{\mathbf {M}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\can}{\mathrm{can}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\ff}{{\mathfrak f}}

%\newcommand{\ug}{{\mathrm U}}
%\newcommand{\fs}{{\mathfrak s}}

\newcommand{\oi}{{\bf \mathrm{O}}}


\newcommand{\rf}{k}

%%%% Motivic  definitions %%%%%%%

\newcommand{\ldp}{{\mathcal L}_{\mathrm {DP}}}
\newcommand\ldpo[1][\ri]{{\mathcal L}_{#1}}
\newcommand\cmf[1]{{\mathcal C}(#1)}
\newcommand\cA{{\mathcal A}}
%\newcommand\co{{\mathcal O}}
\newcommand\cB{{\mathcal B}}
\newcommand\ord{\mathrm{ord}}
\newcommand\ac{\overline{\mathrm{ac}}}
\newcommand\lef{\mathbb L}
\newcommand\cP{{\mathcal P}}
\newcommand\cC{{\mathcal C}}
\newcommand\cE{{\mathcal E}}
\newcommand\cX{{\mathcal X}}
%\newcommand\bT{{\mathbf T}}
\newcommand\mot{\mathrm{mot}}
\newcommand\spl{\mathrm{spl}}
\newcommand{\scD}{\mathscr{D}}
\newcommand{\Res}{\mathrm{Res}}


\newcommand{\de}{{\text{Def}}}
\newcommand{\rde}{{\text{RDef}}}
\newcommand{\K}{F}
\newcommand{\mexp}{\mathbf{e}}
\newcommand{\Ner}[1]{\mathcal{#1}}
\newcommand{\NerC}[1]{\mathcal{#1}^\circ}

\def\llp{\mathopen{(\!(}}
\def\llb{\mathopen{[\![}}
\def\rrp{\mathopen{)\!)}}
\def\rrb{\mathopen{]\!]}}

\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\Ind}{Ind}


%%%%%%%%%%%%% Theorem declarations %%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{thm}{Theorem}
\newtheorem{theorem}[thm]{Theorem}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}
%\newtheorem{defn}[thm]{Definition}
%\newtheorem{rem}[thm]{Remark}
\newtheorem{prop}[thm]{Proposition}

\theoremstyle{definition}
\newtheorem{rem}[thm]{Remark}
\newtheorem{defn}[thm]{Definition}
\newtheorem{example}[thm]{Example}


\title[]{Motivic measures and the motive of a reductive group}
\author{Julia Gordon and David Roe}

\begin{document}

\maketitle

\section{Introduction}
The goal of this paper is to complete a technical step in the 
``motivic" formulation of 
the representation theory of $p$-adic groups, that was started by T. Hales in 1999. 
Here  the word ``motivic'' refers to the use of the theory of motivic integration, as developed by R. Cluckers and F. Loeser in \cite{cluckers-loeser}; in this paper, no integration will be required, so ``definable'' would have been a better term to use. 

Specifically, our goal is to prove that the canonical maximal parahoric subgroup of a connected reductive $p$-adic group, as defined by  B. Gross in \cite{gross:motive} using Bruhat-Tits theory, is definable using Denef-Pas language, which is the language used in Cluckers-Loeser theory of motivic integration and, consequently,  in all its applications to representation theory of $p$-adic groups. As a consequence, we  prove that for any connected reductive group the canonical Haar measure (in the sense of \cite{gross:motive}) is motivic.
{\bf XX Can we think of the motive of a reductive group as its motivic volume? Careful though: Artin-Tate motives vs. Chow motives. think about it.}

In fact, for unramified groups this statement has been known for a while, cf. \cite{cluckers-hales-loeser}. However, for a ramified group $\bG$, there is a difficulty caused by the fact that the canonical smooth model of $\bG$, whose definition relies on the N\'eron model of a maximal torus in $\bG$, does not behave well with respect to Galois descent. Thus, the main technical difficulty we deal with in this paper is proving that the connected component of the N\`eron model of a tamely ramified torus is definable in the language of Denef-Pas. We note that this difficulty is largely caused by the fact that ``taking the connected component'' is not, naturally, an operation that can easily be described by first-order logic. 

{\bf XX Fill in: application to the formal degree ?}

\section{Tori} 
In this paper, we will use the notions of a definable set and  definable function. These refer to being definable in Denef-Pas language. 
Formulas in Denef-Pas language can have variables of three \emph{sorts}: valued field (which will be denoted by $VF$), residue field (denoted by $RF$) and the value group. Even though we will be often be working with ramified extensions, we always start with a local field $F$ with normalized valuation, so the value group is $\Z$ (the $VF$-variables will range over $F$, and so their valuations will be in $\Z$).
Formulas in Denef-Pas language can be interpreted given a choice of a valued field \emph{and a uniformizer of the valuation}. 
We refer the reader to \cite{what's the best ref?} for the definitions of Denef-Pas language, definable sets, etc. 

For us $F$ will always be a non-Archimedean local field, either a finite extension of $\Q_p$, or 
$\F_q\llp t\rrp$, and due to the nature of the notion of a definable set,  all the statements in this paper will hold for all such $F$ of sufficiently large residue characteristic 
(though there will be no effective bound on the characteristic). Since we have to assume that the characteristic is large (relative to some fixed parameters such as the degree of the extension over which our torus splits), we will, in particular, only work with tame tori.  

For a local field $F$, we will denote its ring of integers by $\ri_F$,  its residue field by $k_F$, and let $q_F=\# k_F$. The symbol $\varpi_F$ will always stand for the uniformizer of the valuation on $F$; when there is no possibility of confusion, we might drop the subscript $F$. 
A formula in Denef-Pas language  with $n$ free $VF$-variables, $m$ free $RF$-variables, and $r$ free 
$\Z$-variables 
defines a subset of $F^n\times k_F^m \times \Z^r$. 
We will denote the definable set $F^n\times k_F^m \times \Z^r$ itself by $VF^n\times RF^m\times \Z^r$. In earlier works on motivic integration this set was denoted by $h[n,m,r]$. 


\subsection{Field extensions}
We start by setting up the framework for working with tori, and later, general reductive groups, in Denef-Pas language, following \cite{cluckers-hales-loeser}, \cite{CGH-2}, and \cite{hales:transfert}. 


We encode field extensions in the same way as in \cite{CGH-2}. Namely, we fix a finite group $\Gamma$, and realize all tori over a given local field $F$ that split over a Galois extension $L$ with the Galois group 
isomorphic to $\Gamma$ as members of a family of definable sets, for all $F$ of sufficiently large residue characteristic. 

Thus, once and for all, we fix a pair $(\Gamma,I)$,  with $\Gamma$ an abstract finite group, with fixed enumeration of its elements, $\Gamma=\{\sigma_1, \dots, \sigma_m\}$, and 
$I=\{\sigma_1, \dots, \sigma_e\}$
a normal subgroup (which will play the role of the inertia subgroup). We will also need to use the maximal unramified sub-extension of $L$.
There is an exact sequence of Galois groups, 
$$ 1\to I \to \gal(L/F)\to \gal(L^{ur}/F)\to 1.$$
We 
%fix the ramification index $e$, and make the convention that the elements
%$\sigma_1, \dots, \sigma_e$ of $\Gamma$ constitute the group $\gal(L/L^{\ur})$, and 
make the convention that $\sigma_m$ projects to a generator of $L^{\ur}$ over $F$. 
In order to encode the data of the extension tower $L/L^{\ur}/F$, we let $f=m/e$, and first introduce the parameters $b_0,\dots, b_{f-1}$ ranging over $\ri_F$, which serve as the coefficients of a polynomial whose root generates $L^{\ur}$. 
We identify $L^{ur}$ with   $F[x]/(p(x))$, where $p(x)=x^f+b_{f-1}x^{f-1}+ \dots + b_0$. 
Further, we introduce the parameters $c_0, \dots, c_{e-1}$, which range over 
$L^{\ur}$ (i.e., can be thought of as $f$-tuples of elements of $F$), and which play the role of the coefficients of a polynomial generating the extension $L/L^{\ur}$. 
We impose the conditions (all of which are definable by Denef-Pas language formulas) that: 
\begin{enumerate}
\item the polynomial $p(x)=x^f+b_{f-1}x^{f-1}+ \dots + b_0$ is irreducible over $F$ and its reduction 
$\mod \varpi_F$ is irreducible over $k_F$ and generates a degree $f$ extension of $k_F$. 
This ensures that $F[x]/(p(x))$ is a degree $f$ unramified extension. 
We denote this extension by $L^\ur$, and once and for all fix an identification with $F^f$ as 
an $F$-vector space. 
\item  the elements $c_0, \dots, c_{e-1}$ define an irreducible polynomial over $L^\ur$ with splitting field of degree $e$; this is the field $L$, and we also fix its identification with 
$(L^\ur)^e$ as an $L^\ur$-vector space, with allows us to think of its elements as $m$-tuples of elements of $F$. 
\item $\sigma_1, \dots \sigma_m$ are distinct field automorphisms of $L$ over $F$, and 
 $\sigma_1, \dots \sigma_e$ fix $L^\ur$.
\item The restriction of $\sigma_m$ to $L^\ur$ is a generator of $\gal(L^\ur/F)$. 
\item the group $\{\sigma_1, \dots, \sigma_n\}$ is isomorphic to $\Gamma$.
\end{enumerate}
We denote by $\cE_\Gamma$ the space of parameters $(b_0, \dots, b_{f-1}, c_0, \dots, c_{e-1}, \sigma_1, \dots, \sigma_n)$ with these properties, thought of as a definable subset of some large affine space over $F$. 
Given a field $F$ of sufficiently large residue characteristic, every element of $\cE_\Gamma$ gives rise to a tower of field extensions $L/L^\ur/F$ with $\gal(L/F)$ isomorphic to $\Gamma$ and satisfying all the above conditions. Note, however, that we cannot quite distinguish between 
isomorphism classes of extensions, but all extensions of a given field $F$ with Galois group 
$\Gamma$ arise via this construction.   
\begin{example}
The two ramified quadratic extensions of $F$ appear as members of the same family, one for the 
polynomial $x^2-\varpi$, another for the polynomial $x^2-\epsilon\varpi$, where $\epsilon$  is any non-square unit. We also recall that the interpretation of formulas in Denef-Pas language depends not just on the field, but also on the choice of the uniformizer of the valuation. Thus, in this case, a different choice of the uniformizer would cause these two extensions to switch places, but they would still both appear. 
\end{example}
\begin{rem} We observe that in this context we cannot use standard number-theoretic constructions involving objects such as the cyclotomic polynomial, since we need to be able to let $F$ with its residue characteristic vary, and thus polynomials whose degree depends on $p$ are not allowed. For the same reason, we cannot use the Frobenius automorphism.  
\end{rem}
Our goal is to construct all tori over $F$ that split over a Galois extension with Galois group 
$\Gamma$ and inertia subgroup $I$, and the identity components of their N\'eron models, as 
definable sets fibered over $\cE_\Gamma$.  

\subsection{The set-up}
We follow \cite{cluckers-hales-loeser} in the treatment of the character and cocharacter lattices.
We will think of a split rank $n$ torus ${\bT}^\spl$ as the set of diagonal matrices in $\GL_n$, which is, clearly, definable. Its character lattice $X^\ast({\bT}^\spl)$ is viewed as a subset of the coordinate ring of $\bT^\spl$, whose elements are, explicitly, polynomials in $n^2$ variables. 
We also fix, once and for all, an isomorphism between $X^\ast(\bT^\spl)$ and $\Z^n$. 
\footnote{As pointed out in \cite{cluckers-hales-loeser}, this makes it tempting to represent 
$X^\ast(\bT^\spl)$ by constants (or variables) of the $\Z$-sort in Denef-Pas language, but this, indeed, is a wrong way to proceed.}
From now on, together with the groups $\Gamma$ and $I$, we shall fix a homomorphism
$\theta:\Gamma \to \GL_n(\Z)$, as part of the initial completely field-independent `fixed data' built into all our constructions.
Moreover, the set $H^1(\Gamma, \GL_n(\Z))$ is completely field-independent, and therefore can also be fixed from the start. The trivial class is represented by the map $\theta$.  We can, and will, fix a set of representatives of these cohomology classes, and denote them by $Z=\{z_1, \dots, z_m\}$. We will use the $z_i$ in Denef-Pas formulas, thinking of them as $|\Gamma|$-tuples of $n\times n$-matrices whose integer entries are \emph{constants of the valued  field sort}. 
 
For $\epsilon=(\bar b, \bar c, \sigma_1, \dots, \sigma_n)\in \cE_\Gamma$, we get an extension tower 
$L_\epsilon/L_\epsilon^\ur/F$. For $z\in Z$, define the action of $\gal(L/F)$ on $\bT^\spl(L)$ by
$\sigma\cdot  t:=z(\sigma)\sigma^{-1}t$, where $t\in \bT^\spl(L)$, and for $\sigma\in \Gamma$, 
$\sigma^{-1}t$ is the coordinate-wise action of $\sigma^{-1}$, which is thought explicitly as an $n\times n$-matrix with entries that are definable functions of the parameters $(\bar b, \bar c)$, on the coordinates of $t$, which are thought of as elements of $L$, i.e., as tuples of $F$-variables. 

The $F$-tori that split over $L$ are in bijection with  the set $Z$; 
for $z\in Z$, we denote the corresponding algebraic $F$-torus by $\bT_z$. 
By the above construction, the set of its $F$-points $\bT_z(F)$ is definable by a formula in Denef-Pas language (using parameters in $\cE_\Gamma)$, since it is the set of fixed points of the action defined in the above paragraph. 

\subsection{The connected component of the N\'eron model: induced case}
Let us first consider the case $\bT=\Res_{L/F} \bT^\spl$, where $L$ is a finite Galois extension with Galois group $\Gamma$ as above. This is equivalent to choosing a cocycle $z$ that gives the action on $X^\ast(\bT^\spl)\simeq \Z^n$ induced from the trivial action. 
% Note that this condition on $z$ is definable. ({\bf XX Do we need this? If no, maybe remove, if yes, provide detail}).
Write $\Ner{T}$ for the N\'eron model of $\bT$, and $\NerC{T}$ for its identity component.  Then $\Ner{T}(\ri_F) = \bT(F) = L^\times$ consists of tuples of $F$-variables that are not all zero, and $\NerC{T}(\ri_F) = \ri_F^\times$ consists of tuples of $F$-variables all with non-negative valuation -- both are definable conditions.

We observe that in this case the component group of $\Ner{T}$ can be identified with $\Z^n$, and here we interpret $\Z^n$ as the value sort. The map $v:\Ner{T} \to \pi_0(\Ner{T})$ is the component-wise valuation: we treat an element of $L$ as an $n$-tuple of elements of $F$, and $v$ maps it to the  tuple of valuations of the components. 

\subsection{The connected component of the N\'eron model: an outline}

We want to show that the identity component of the N\'eron model is definable.  Consider the short exact sequence of $\Gal(L/F)$-modules
\[
0 \to X^*(\bT) \to \Ind_{G_F}^{G_L} X^*(\bT) \to X' \to 0
\]
defined in \cite{brahm}*{Satz 0.4.4} and the dual sequence of tori
\[
1 \to \Res_{L/F}^1(\bT_L) \to \Res_{L/F} (\bT_L) \to \bT \to 1.
\]
Write $\bS = \Res_{L/F} (\bT_L)$ and $\Ner{S}$ for the N\'eron model of $\bS$; $\bR = \Res_{L/F}^1 (\bT_L)$ and $\Ner{R}$ for its N\'eron model. 
%We have the exact sequence of N\'eron models 
%\[
%1 \to \Ner{R} \to \Ner{S} \to \Ner{T} \to 1, 
%\]
%and the resulting sequence of component groups 
We seek a formula that tests when a given element of $\bT(F)$ actually lies in $\NerC{T}(\ri_F) \subseteq \Ner{T}(\ri_F) = \bT(F)$. The set $\bS(F) \cong (L^\times)^n$ is definable, as is the valuation map to the component group of its N\'eron model, $v : \bS(F) \to \pi_0(\Ner{S}) \cong \Z^n$.  The image of $\pi_0(\Ner{R})$ in $\pi_0(\Ner{S})$ is independent of $F$ (as can be seen from \cite{bertrapelle-gonzales:13b}*{Prop. 3.8}), so we may fix generators $r_1, \ldots, r_m$ for use in our formulas.  The functor $\bT \mapsto \pi_0(\Ner{T})$ is right exact \cite{bertrapelle-gonzales:13b}*{Prop. 3.8}, so to determine whether a given element $t \in \bT(F)$ lies in $\NerC{T}(\ri_F)$, it suffices to check if there exists an element of $\bS(F)$ projecting to $t$ with valuation in the span of $r_1, \ldots, r_m$.  This is a definable condition.
Thus, to implement this construction precisely, we need to introduce the fixed choice 
$r_1, \dots, r_m$ and the suitable compatibility conditions. 


\subsection{}More precisely, we need to make fixed choices of $z_1, \dots z_n$. 
There is a compatibility condition -- the quotient of $\Z^n$ by the lattice generated by this fixed choice should be $(X_\ast)_I$, which is already fixed at this point. 
Rename the $z$'s -- $z$ is reserved for cocycle.  

\section{General reductive groups}
%{\bf XX Here want to prove that $G_{x, 0}$ is definable; canonical measure is motivic; formal degree is motivic. }
It is shown in \cite{CGH-2} that for all $r>0$ and any \emph{optimal} point $x$ in the building, the Moy-Prasad filtration subgroups $G_{x, r}$ are definable; here we fill in the last missing case, namely, we prove that $G_{\ff}:=G_{x, 0}$ (with $x$ in the interior of the facet $\ff$)   is definable for  all facets $\ff$.  

We treat reductive groups in the definable setting as in \cite{hales:transfert} and \cite{CGH-2}.
In particular, we have the \emph{fixed choices} that include the absolute root datum of $G$ and the root datum of $G$ over the maximal unramified extension; the Galois action on the absolute root datum, and, finally,  a finite set that encodes the set of faces of an alcove in the building of $G$ over the maximal unramified extension.

We recall that each  fixed choice determines  a split reductive group $G^{\ast\ast}$ and an embedding 
$G^{\ast\ast}(F)\hookrightarrow GL_N(F)$ for every local field $F$ of sufficiently large residue characteristic.  
Moreover, as in \cite{hales:transfert}*{\S 2.2}, we  have a parameter space $Z$ that encodes field extensions and Galois cocycles, so that a pair 
$(\Sigma, z)$ determines a connected reductive group $G(F)$ for every local field $F$ of sufficiently large residue characteristic, and every reductive group (up to isomorphism)  arises via this construction. 
(We recall that here $\Sigma$ is a fixed choice determining $G^{\ast\ast}$, and $z$ is a parameter that ranges over $F^m$ for some $m$ and determines a field extension over which $G$ splits, and the Galois cocycle that corresponds to $G$). 

Our main result is that 
the compact subgroup $G(F)_\ff$ associated with $\ff$ via Bruhat-Tits theory is definable.  

%which a reductive group with a given definable family of definable sets $G(F)$ that

\begin{prop} Let $G$ be a tamely ramified quasi-split connected reductive group defined over a local field $F$. Let $\ff$ be a facet in the building of $G$. 
Then $G(F)_\ff\subset G(F)$ arises in a definable family of definable sets. 
\end{prop}

\begin{proof} Let $T$ be a maximal torus containing the maximal split torus in $G$; let $x$ be the baricentre of $\ff$.
By definition, $G_x$ is generated by $T_x$ and $U_\psi$, where $U_\psi$ are the filtration subgroups of the unipotent one-parameter subgroups $U_{\alpha}$. 
We have shown in Proposition \ref{} above that  $T(F)_x$ is definable. The rest of the proof is identical to that of Lemma 3.4 in \cite{CGH-2}.  
\end{proof} 



\end{document}





























